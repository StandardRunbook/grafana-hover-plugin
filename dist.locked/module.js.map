{"version":3,"file":"module.js","mappings":"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","sources":["../src/HoverTrackerPanel.tsx","../src/module.ts","../src/HoverTrackerEditor.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport {\n  PanelProps,\n  DataHoverEvent,\n  LegacyGraphHoverEvent,\n  dateTime,\n} from \"@grafana/data\";\nimport { SimpleOptions, HoverEvent } from \"./types\";\nimport { css, cx } from \"@emotion/css\";\nimport { useStyles2 } from \"@grafana/ui\";\nimport { getAppEvents, config as grafanaConfig, getBackendSrv } from \"@grafana/runtime\";\n\ninterface Props extends PanelProps<SimpleOptions> {}\n\nexport const HoverTrackerPanel: React.FC<Props> = (props) => {\n  const { options, width, height, id, eventBus } = props;\n\n  // Note: buildPanelRegistry removed - no longer needed\n  // Note: buildRefIdToPanelMap removed - no longer needed\n  // Panel title comes directly from event.origin._state.title\n\n  const styles = useStyles2(getStyles);\n  const [currentHover, setCurrentHover] = useState<HoverEvent | null>(null);\n  const [apiLogs, setApiLogs] = useState<string[]>([]);\n  const [expandedLogs, setExpandedLogs] = useState<Set<number>>(new Set());\n  const [isLoadingLogs, setIsLoadingLogs] = useState(false);\n\n  const toggleLogExpansion = (index: number) => {\n    setExpandedLogs((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(index)) {\n        newSet.delete(index);\n      } else {\n        newSet.add(index);\n      }\n      return newSet;\n    });\n  };\n\n  // Function to send metric data to backend plugin\n  const sendToAPI = useCallback(\n    async (event: HoverEvent, eventOrigin?: any) => {\n      try {\n        // Clear old logs and show loading state\n        setIsLoadingLogs(true);\n        setApiLogs([]);\n\n        const metricData = event.metricData;\n\n        // Prepare the payload to match log analysis server spec\n        // API expects: metric_name, start_time, end_time (ISO 8601 with Z suffix)\n        const endTime = new Date();\n        const startTime = new Date(Date.now() - options.timeWindowMs);\n\n        // Extract metric name with better fallbacks\n\n        // metric_name: the series/metric name from the data\n        const metricName =\n          metricData?.seriesName || metricData?.fieldName || \"Unknown Series\";\n\n        // graph_name: the panel title\n        const graphName = event.panelTitle || \"Unknown Panel\";\n\n        // dashboard_name: from the dashboard state\n        // Based on the structure: event.origin._eventsOrigin._state is the dashboard state\n        const dashboardState = eventOrigin?._eventsOrigin?._state;\n        const dashboardName = dashboardState?.title || \"Unknown Dashboard\";\n\n        // org: Get the Grafana organization ID and convert to string\n        const orgId = String(grafanaConfig.bootData?.user?.orgId || 1);\n\n        const payload = {\n          org: orgId,\n          dashboard: dashboardName,\n          panel_title: graphName,\n          metric_name: metricName,\n          start_time: startTime.toISOString(),\n          end_time: endTime.toISOString(),\n        };\n\n        // Call backend plugin resource endpoint\n        const result = await getBackendSrv().post(\n          `/api/plugins/hover-hover-panel/resources/query_logs`,\n          payload\n        );\n\n        // Parse log_groups response from log analysis server\n        // Expected format: { log_groups: [{ representative_logs: [...], relative_change: number }] }\n        if (result && Array.isArray(result.log_groups)) {\n          const formattedLogs: string[] = [];\n          const MAX_LOGS = options.maxLogs;\n          const MAX_LOG_LENGTH = options.maxLogLength;\n          let totalLogs = 0;\n\n          result.log_groups.forEach((group: any, index: number) => {\n            if (totalLogs >= MAX_LOGS) {\n              return; // Stop processing if we hit the limit\n            }\n\n            const change = group.relative_change;\n            const changeSymbol = change > 0 ? \"â†‘\" : change < 0 ? \"â†“\" : \"â†’\";\n            const changeColor =\n              change > 50\n                ? \"ðŸ”´\"\n                : change > 10\n                ? \"ðŸŸ \"\n                : change < -10\n                ? \"ðŸŸ¢\"\n                : \"âšª\";\n\n            formattedLogs.push(\n              `${changeColor} ${changeSymbol} ${change.toFixed(\n                1\n              )}% change from baseline`\n            );\n            totalLogs++;\n\n            if (Array.isArray(group.representative_logs)) {\n              group.representative_logs.forEach((log: string) => {\n                if (totalLogs >= MAX_LOGS) {\n                  return;\n                }\n                // Truncate extremely long logs but allow expansion\n                const truncatedLog =\n                  log.length > MAX_LOG_LENGTH\n                    ? log.substring(0, MAX_LOG_LENGTH) + \"... [truncated]\"\n                    : log;\n                formattedLogs.push(`  ${truncatedLog}`);\n                totalLogs++;\n              });\n            }\n          });\n\n          if (totalLogs >= MAX_LOGS) {\n            formattedLogs.push(\n              `... [${\n                result.log_groups.length - formattedLogs.length\n              } more logs truncated for performance]`\n            );\n          }\n\n          setApiLogs(formattedLogs);\n          setIsLoadingLogs(false);\n        } else {\n          setApiLogs([]);\n          setIsLoadingLogs(false);\n        }\n      } catch (error) {\n        setApiLogs([`Error: ${error}`]);\n        setIsLoadingLogs(false);\n      }\n    },\n    [\n      options.timeWindowMs,\n      options.maxLogs,\n      options.maxLogLength,\n    ]\n  );\n\n  useEffect(() => {\n    // Subscribe to Grafana hover events\n    const appEvents = getAppEvents();\n\n    // Method 1: Use eventBus from props (recommended approach)\n    const dataHoverSub = eventBus\n      ?.getStream(DataHoverEvent)\n      .subscribe((event) => {\n\n        // Extract event origin for panel info\n        const eventOrigin = (event as any)?.origin;\n        const payloadOrigin = (event.payload as any)?.origin;\n\n        // Extract data from the payload\n        const payload = event.payload as any;\n        const point = payload?.point || {};\n        const data = payload?.data; // This should be the DataFrame\n\n        // Get series name from the data frame\n        let seriesName = \"Unknown Series\";\n        let fieldName = \"\";\n        let value: any = undefined;\n        let formattedValue: string | undefined = undefined;\n        let time: number | undefined = undefined;\n\n        // Extract from DataFrame if available\n        if (data && data.fields) {\n          // Find the field that was hovered\n          const fieldIndex = payload?.columnIndex ?? payload?.fieldIndex;\n          const rowIndex = payload?.rowIndex ?? payload?.dataIndex;\n\n          // If columnIndex is undefined, find the first non-time field\n          let targetFieldIndex = fieldIndex;\n          if (targetFieldIndex === undefined) {\n            targetFieldIndex = data.fields.findIndex(\n              (f: any) => f.type !== \"time\"\n            );\n          }\n\n          if (targetFieldIndex !== undefined && data.fields[targetFieldIndex]) {\n            const field = data.fields[targetFieldIndex];\n            fieldName = field.name || \"\";\n\n            // Extract series name with priority: displayName > name > labels.__name__ > labels\n            seriesName =\n              field.config?.displayName ||\n              field.name ||\n              data.name ||\n              \"Unknown Series\";\n\n            // Get the value at the hovered row\n            if (\n              rowIndex !== undefined &&\n              field.values &&\n              field.values.length > rowIndex\n            ) {\n              value = field.values[rowIndex];\n              formattedValue = field.display\n                ? field.display(value).text\n                : String(value);\n            }\n          }\n\n          // Try to get time from the first field (usually time field)\n          if (\n            rowIndex !== undefined &&\n            data.fields[0]?.values?.length > rowIndex\n          ) {\n            time = data.fields[0].values[rowIndex];\n          }\n        }\n\n        // Fallback to point data\n        if (value === undefined && point?.value !== undefined) {\n          value = point.value;\n        }\n        if (seriesName === \"Unknown Series\" && payload?.dataId) {\n          seriesName = payload.dataId;\n        }\n\n        // Extract panel info from available data\n        const refId = data?.refId;\n\n        // Try multiple sources for panel title and ID:\n        // 1. Check if payload has panel info\n        // 2. Use data frame name or refId\n        // 3. Fallback to \"Unknown Panel\"\n\n        let panelTitle = \"Unknown Panel\";\n        let panelId = \"unknown\";\n\n        // PRIMARY: Get title from event.origin._eventsOrigin._state.title\n        if (eventOrigin?._eventsOrigin?._state?.title) {\n          panelTitle = eventOrigin._eventsOrigin._state.title;\n        }\n        // FALLBACK 1: Try direct _state.title (in case structure varies)\n        else if (eventOrigin?._state?.title) {\n          panelTitle = eventOrigin._state.title;\n        }\n        // FALLBACK 2: Try payload origin\n        else if (payloadOrigin?._eventsOrigin?._state?.title) {\n          panelTitle = payloadOrigin._eventsOrigin._state.title;\n        } else if (payloadOrigin?._state?.title) {\n          panelTitle = payloadOrigin._state.title;\n        }\n        // FALLBACK 3: Try data frame metadata\n        else if (data?.meta?.custom?.title) {\n          panelTitle = data.meta.custom.title;\n        }\n        // FALLBACK 4: Use series name or refId\n        else if (data?.name) {\n          panelTitle = `Panel: ${data.name}`;\n        } else if (refId) {\n          panelTitle = `Query ${refId}`;\n        }\n\n        // Get panel ID from refId or origin\n        if (refId) {\n          panelId = refId;\n        } else if (eventOrigin?.panelId) {\n          panelId = eventOrigin.panelId;\n        } else if (payloadOrigin?.panelId) {\n          panelId = payloadOrigin.panelId;\n        }\n\n        const newEvent: HoverEvent = {\n          panelId,\n          panelTitle,\n          timestamp: Date.now(),\n          x: point?.time || point?.x || 0,\n          y: value || point?.y || 0,\n          elementType: \"data-hover\",\n          metricData: {\n            seriesName,\n            fieldName,\n            value,\n            formattedValue,\n            time,\n            fieldIndex: payload?.columnIndex ?? payload?.fieldIndex,\n            dataIndex: payload?.rowIndex ?? payload?.dataIndex,\n            point: point,\n            dataFrame: data,\n          },\n        };\n\n\n        // Update current hover widget\n        setCurrentHover(newEvent);\n\n        // Send to API if configured (pass eventOrigin for dashboard/org info)\n        sendToAPI(newEvent, eventOrigin);\n      });\n\n    // Intentionally NOT subscribing to DataHoverClearEvent\n    // We want to persist the hover data until a new hover event occurs\n\n    // Method 2: Fallback using getAppEvents() for legacy support\n    const legacyHoverSub = appEvents.subscribe(\n      LegacyGraphHoverEvent,\n      (event) => {\n        const newEvent: HoverEvent = {\n          panelId: \"legacy-graph-hover\",\n          panelTitle: \"Legacy Graph Hover\",\n          timestamp: Date.now(),\n          x: (event.payload as any)?.pos?.x || 0,\n          y: (event.payload as any)?.pos?.y || 0,\n          elementType: \"legacy-graph-hover\",\n          metricData: {\n            seriesName: (event.payload as any)?.series?.name || \"Legacy Series\",\n            value: (event.payload as any)?.value,\n          },\n        };\n\n        // Update current hover widget\n        setCurrentHover(newEvent);\n\n        // Send to API if configured\n        sendToAPI(newEvent);\n      }\n    );\n\n    return () => {\n      dataHoverSub?.unsubscribe();\n      legacyHoverSub?.unsubscribe();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id, sendToAPI, eventBus]);\n\n  return (\n    <>\n      {/* Main Panel */}\n      <div className={cx(styles.wrapper)} style={{ width, height }}>\n        {/* Dynamic Current Hover Widget */}\n        {currentHover && (\n          <div className={styles.currentHoverWidget}>\n            <div className={styles.widgetContent}>\n              {/* Compact metadata at the top */}\n              <div className={styles.widgetCompactHeader}>\n                {currentHover.metricData?.time && (\n                  <>\n                    <span className={styles.widgetCompactTime}>\n                      {dateTime(currentHover.metricData.time).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                      )}\n                    </span>\n                    <span className={styles.widgetCompactSeparator}>â€¢</span>\n                  </>\n                )}\n                <span className={styles.widgetCompactPanel}>\n                  {currentHover.panelTitle}\n                </span>\n                <span className={styles.widgetCompactSeparator}>â€¢</span>\n                <span className={styles.widgetCompactSeries}>\n                  {currentHover.metricData?.seriesName || \"No Series\"}\n                </span>\n                <span className={styles.widgetCompactSeparator}>â€¢</span>\n                <span className={styles.widgetCompactValue}>\n                  {currentHover.metricData?.formattedValue ||\n                    currentHover.metricData?.value ||\n                    \"â€”\"}\n                </span>\n              </div>\n\n              {/* API Response Logs Section - takes up most of the space */}\n              {isLoadingLogs ? (\n                <div className={styles.widgetLoading}>Loading logs...</div>\n              ) : apiLogs.length > 0 ? (\n                <div className={styles.widgetLogsSection}>\n                  <div className={styles.widgetLogsList}>\n                    {apiLogs.map((log, index) => {\n                      const isExpanded = expandedLogs.has(index);\n                      const maxLength = options.logTruncateLength;\n                      const isLong = log.length > maxLength;\n\n                      return (\n                        <div\n                          key={index}\n                          className={styles.widgetLogItem}\n                          onClick={() => isLong && toggleLogExpansion(index)}\n                          style={{\n                            cursor: isLong ? \"pointer\" : \"default\",\n                          }}\n                          title={\n                            isLong ? \"Click to expand/collapse\" : undefined\n                          }\n                        >\n                          {isLong && (\n                            <span className={styles.widgetLogToggle}>\n                              {isExpanded ? \"â–¼\" : \"â–¶\"}\n                            </span>\n                          )}\n                          <span className={styles.widgetLogText}>\n                            {isExpanded || !isLong\n                              ? log\n                              : log.substring(0, maxLength) +\n                                \"... (click to expand)\"}\n                          </span>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              ) : (\n                <div className={styles.widgetLoading}>No logs found</div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {!currentHover && (\n          <div className={styles.noCurrentHover}>\n            <div className={styles.noHoverIcon}>ðŸ‘†</div>\n            <div className={styles.noHoverText}>\n              Hover over a panel to see live data\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = () => {\n  return {\n    wrapper: css`\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      overflow: hidden;\n    `,\n    header: css`\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 8px 16px;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    `,\n    title: css`\n      margin: 0;\n      font-size: 16px;\n      font-weight: 500;\n    `,\n    count: css`\n      font-size: 12px;\n      opacity: 0.7;\n    `,\n    currentHoverWidget: css`\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      flex: 1;\n      height: 100%;\n    `,\n    widgetHeader: css`\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 12px;\n      padding-bottom: 8px;\n      border-bottom: 1px solid rgba(115, 191, 105, 0.3);\n    `,\n    widgetTitle: css`\n      font-size: 11px;\n      font-weight: 700;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      color: rgba(115, 191, 105, 1);\n    `,\n    widgetLive: css`\n      font-size: 10px;\n      font-weight: 600;\n      color: rgba(115, 191, 105, 1);\n      animation: blink 1.5s ease-in-out infinite;\n\n      @keyframes blink {\n        0%,\n        100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.4;\n        }\n      }\n    `,\n    widgetContent: css`\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      flex: 1;\n      min-height: 0;\n    `,\n    widgetCompactHeader: css`\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 4px 0;\n      font-size: 11px;\n      flex-wrap: wrap;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n      padding-bottom: 6px;\n      margin-bottom: 4px;\n    `,\n    widgetCompactPanel: css`\n      font-weight: 600;\n      color: rgba(255, 255, 255, 0.9);\n    `,\n    widgetCompactSeparator: css`\n      color: rgba(255, 255, 255, 0.3);\n    `,\n    widgetCompactSeries: css`\n      color: rgba(255, 255, 255, 0.7);\n    `,\n    widgetCompactValue: css`\n      font-weight: 700;\n      color: rgba(115, 191, 105, 1);\n      font-family: \"Roboto Mono\", monospace;\n    `,\n    widgetCompactTime: css`\n      color: rgba(255, 255, 255, 0.6);\n      font-family: \"Roboto Mono\", monospace;\n      font-size: 11px;\n    `,\n    widgetLoading: css`\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 24px;\n      color: rgba(255, 255, 255, 0.5);\n      font-style: italic;\n    `,\n    widgetMainValue: css`\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    `,\n    widgetSeriesName: css`\n      font-size: 13px;\n      font-weight: 600;\n      color: rgba(255, 255, 255, 0.9);\n      letter-spacing: 0.3px;\n    `,\n    widgetValue: css`\n      font-size: 32px;\n      font-weight: 700;\n      color: rgba(115, 191, 105, 1);\n      line-height: 1.2;\n      font-family: \"Roboto Mono\", monospace;\n    `,\n    widgetMetadata: css`\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      padding-top: 8px;\n      border-top: 1px solid rgba(255, 255, 255, 0.1);\n    `,\n    widgetMetaRow: css`\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 8px;\n    `,\n    widgetMetaLabel: css`\n      font-size: 11px;\n      font-weight: 600;\n      color: rgba(255, 255, 255, 0.6);\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    `,\n    widgetMetaValue: css`\n      font-size: 12px;\n      font-weight: 500;\n      color: rgba(255, 255, 255, 0.9);\n      text-align: right;\n    `,\n    noCurrentHover: css`\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 32px 16px;\n      margin: 12px;\n      background: rgba(255, 255, 255, 0.03);\n      border: 2px dashed rgba(255, 255, 255, 0.1);\n      border-radius: 8px;\n      opacity: 0.6;\n    `,\n    noHoverIcon: css`\n      font-size: 48px;\n      margin-bottom: 12px;\n      opacity: 0.5;\n    `,\n    noHoverText: css`\n      font-size: 14px;\n      color: rgba(255, 255, 255, 0.6);\n      text-align: center;\n    `,\n    widgetLogsSection: css`\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      min-height: 0;\n      padding-top: 8px;\n    `,\n    widgetLogsSectionHeader: css`\n      font-size: 11px;\n      font-weight: 700;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      color: rgba(115, 191, 105, 0.8);\n      margin-bottom: 8px;\n    `,\n    widgetLogsList: css`\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      flex: 1;\n      overflow-y: auto;\n      padding-right: 4px;\n\n      /* Custom scrollbar */\n      &::-webkit-scrollbar {\n        width: 6px;\n      }\n      &::-webkit-scrollbar-track {\n        background: rgba(0, 0, 0, 0.2);\n        border-radius: 3px;\n      }\n      &::-webkit-scrollbar-thumb {\n        background: rgba(115, 191, 105, 0.4);\n        border-radius: 3px;\n      }\n      &::-webkit-scrollbar-thumb:hover {\n        background: rgba(115, 191, 105, 0.6);\n      }\n    `,\n    widgetLogItem: css`\n      display: flex;\n      gap: 6px;\n      align-items: flex-start;\n      padding: 4px 6px;\n      margin: 0;\n      font-family: \"Roboto Mono\", \"Courier New\", monospace;\n      font-size: 11px;\n      line-height: 1.4;\n      transition: all 0.15s ease;\n      user-select: text;\n      border-left: 2px solid transparent;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.03);\n      }\n\n      &[style*=\"cursor: pointer\"] {\n        &:hover {\n          background: rgba(115, 191, 105, 0.08);\n          border-left-color: rgba(115, 191, 105, 0.6);\n        }\n      }\n    `,\n    widgetLogToggle: css`\n      color: rgba(115, 191, 105, 0.7);\n      font-size: 9px;\n      flex-shrink: 0;\n      width: 12px;\n      margin-top: 3px;\n    `,\n    widgetLogText: css`\n      color: rgba(255, 255, 255, 0.85);\n      word-break: break-word;\n      flex: 1;\n    `,\n    widgetLogDivider: css`\n      height: 1px;\n      background: linear-gradient(\n        to right,\n        transparent,\n        rgba(115, 191, 105, 0.3) 20%,\n        rgba(115, 191, 105, 0.3) 80%,\n        transparent\n      );\n      margin: 12px 0;\n    `,\n    eventList: css`\n      flex: 1;\n      overflow-y: auto;\n      padding: 8px;\n    `,\n    event: css`\n      margin-bottom: 8px;\n      padding: 8px 12px;\n      background: rgba(255, 255, 255, 0.05);\n      border-radius: 4px;\n      border-left: 3px solid rgba(115, 191, 105, 0.7);\n      transition: all 0.2s ease;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.08);\n        border-left-color: rgba(115, 191, 105, 1);\n      }\n    `,\n    eventHeader: css`\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 4px;\n    `,\n    panelName: css`\n      font-weight: 500;\n      font-size: 14px;\n    `,\n    timestamp: css`\n      font-size: 11px;\n      opacity: 0.6;\n    `,\n    eventDetails: css`\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      font-size: 12px;\n      opacity: 0.9;\n    `,\n    detail: css`\n      display: inline-block;\n    `,\n    metricInfo: css`\n      display: flex;\n      gap: 8px;\n      align-items: flex-start;\n    `,\n    metricLabel: css`\n      font-weight: 600;\n      color: rgba(255, 255, 255, 0.7);\n      min-width: 60px;\n    `,\n    metricValue: css`\n      color: rgba(255, 255, 255, 0.9);\n      word-break: break-word;\n      flex: 1;\n    `,\n    noEvents: css`\n      text-align: center;\n      padding: 32px;\n      opacity: 0.5;\n    `,\n    debugInfo: css`\n      margin-top: 8px;\n      border-top: 1px solid rgba(255, 255, 255, 0.1);\n      padding-top: 8px;\n    `,\n    debugSummary: css`\n      cursor: pointer;\n      font-size: 11px;\n      color: rgba(255, 255, 255, 0.6);\n      &:hover {\n        color: rgba(255, 255, 255, 0.8);\n      }\n    `,\n    debugPre: css`\n      background: rgba(0, 0, 0, 0.3);\n      padding: 8px;\n      border-radius: 4px;\n      font-size: 10px;\n      overflow-x: auto;\n      margin: 4px 0 0 0;\n      max-height: 200px;\n      overflow-y: auto;\n    `,\n    customTooltip: css`\n      position: fixed;\n      z-index: 9999;\n      background: rgba(0, 0, 0, 0.9);\n      color: white;\n      padding: 12px;\n      border-radius: 6px;\n      border: 1px solid rgba(115, 191, 105, 0.7);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n      max-width: 300px;\n      font-size: 12px;\n      pointer-events: none;\n      backdrop-filter: blur(4px);\n    `,\n    tooltipHeader: css`\n      margin-bottom: 8px;\n      padding-bottom: 6px;\n      border-bottom: 1px solid rgba(115, 191, 105, 0.3);\n      font-size: 14px;\n      color: rgba(115, 191, 105, 1);\n    `,\n    tooltipContent: css`\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    `,\n    tooltipRow: css`\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      gap: 8px;\n    `,\n    tooltipLabel: css`\n      font-weight: 600;\n      color: rgba(255, 255, 255, 0.7);\n      min-width: 50px;\n      flex-shrink: 0;\n    `,\n    tooltipValue: css`\n      color: rgba(255, 255, 255, 0.9);\n      word-break: break-word;\n      text-align: right;\n      flex: 1;\n    `,\n    tooltipDivider: css`\n      margin: 8px 0;\n      height: 1px;\n      background: rgba(115, 191, 105, 0.3);\n    `,\n    tooltipSection: css`\n      margin-top: 8px;\n    `,\n    tooltipSectionHeader: css`\n      font-weight: 600;\n      color: rgba(115, 191, 105, 0.8);\n      font-size: 11px;\n      text-transform: uppercase;\n      margin-bottom: 6px;\n      letter-spacing: 0.5px;\n    `,\n    tooltipLoading: css`\n      color: rgba(255, 255, 255, 0.6);\n      font-style: italic;\n      font-size: 11px;\n    `,\n    tooltipDataFrame: css`\n      margin-bottom: 6px;\n      padding-bottom: 4px;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n      &:last-child {\n        border-bottom: none;\n        margin-bottom: 0;\n      }\n    `,\n    tooltipFields: css`\n      margin-top: 4px;\n    `,\n    tooltipMuted: css`\n      color: rgba(255, 255, 255, 0.5);\n      font-size: 11px;\n      font-style: italic;\n    `,\n  };\n};\n","import { PanelPlugin } from \"@grafana/data\";\nimport { SimpleOptions } from \"./types\";\nimport { HoverTrackerPanel } from \"./HoverTrackerPanel\";\nimport { addStandardOptions } from \"./HoverTrackerEditor\";\n\nexport const plugin = new PanelPlugin<SimpleOptions>(\n  HoverTrackerPanel\n).setPanelOptions((builder) => {\n  addStandardOptions(builder);\n  return builder;\n});\n","import { PanelOptionsEditorBuilder } from \"@grafana/data\";\nimport { SimpleOptions } from \"./types\";\n\nexport const addStandardOptions = (\n  builder: PanelOptionsEditorBuilder<SimpleOptions>\n) => {\n  builder\n    .addNumberInput({\n      path: \"timeWindowMs\",\n      name: \"Time Window (ms)\",\n      description:\n        \"Time window for log queries in milliseconds (default: 1 hour)\",\n      defaultValue: 3600000,\n      settings: {\n        min: 1000,\n        step: 1000,\n      },\n    })\n    .addNumberInput({\n      path: \"maxLogs\",\n      name: \"Max Logs\",\n      description: \"Maximum number of log entries to display\",\n      defaultValue: 500,\n      settings: {\n        min: 1,\n        step: 1,\n      },\n    })\n    .addNumberInput({\n      path: \"maxLogLength\",\n      name: \"Max Log Length\",\n      description: \"Maximum length of individual log entry\",\n      defaultValue: 10000,\n      settings: {\n        min: 100,\n        step: 100,\n      },\n    })\n    .addNumberInput({\n      path: \"logTruncateLength\",\n      name: \"Log Truncate Length\",\n      description: \"Character count threshold for expandable logs\",\n      defaultValue: 120,\n      settings: {\n        min: 50,\n        step: 10,\n      },\n    });\n};\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__89__","__WEBPACK_EXTERNAL_MODULE__531__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","create","SuppressedError","getStyles","wrapper","css","header","title","count","currentHoverWidget","widgetHeader","widgetTitle","widgetLive","widgetContent","widgetCompactHeader","widgetCompactPanel","widgetCompactSeparator","widgetCompactSeries","widgetCompactValue","widgetCompactTime","widgetLoading","widgetMainValue","widgetSeriesName","widgetValue","widgetMetadata","widgetMetaRow","widgetMetaLabel","widgetMetaValue","noCurrentHover","noHoverIcon","noHoverText","widgetLogsSection","widgetLogsSectionHeader","widgetLogsList","widgetLogItem","widgetLogToggle","widgetLogText","widgetLogDivider","eventList","event","eventHeader","panelName","timestamp","eventDetails","detail","metricInfo","metricLabel","metricValue","noEvents","debugInfo","debugSummary","debugPre","customTooltip","tooltipHeader","tooltipContent","tooltipRow","tooltipLabel","tooltipValue","tooltipDivider","tooltipSection","tooltipSectionHeader","tooltipLoading","tooltipDataFrame","tooltipFields","tooltipMuted","PanelPlugin","props","options","width","height","id","eventBus","styles","useStyles2","currentHover","setCurrentHover","useState","apiLogs","setApiLogs","expandedLogs","setExpandedLogs","Set","isLoadingLogs","setIsLoadingLogs","sendToAPI","useCallback","eventOrigin","thisArg","_arguments","generator","metricData","endTime","Date","startTime","now","timeWindowMs","metricName","seriesName","fieldName","graphName","panelTitle","dashboardState","_eventsOrigin","_state","dashboardName","payload","org","String","bootData","user","orgId","dashboard","panel_title","metric_name","start_time","toISOString","end_time","result","getBackendSrv","post","Array","isArray","log_groups","formattedLogs","MAX_LOGS","maxLogs","MAX_LOG_LENGTH","maxLogLength","totalLogs","forEach","group","index","change","relative_change","changeSymbol","changeColor","push","toFixed","representative_logs","log","truncatedLog","length","substring","error","P","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","useEffect","appEvents","getAppEvents","dataHoverSub","getStream","DataHoverEvent","subscribe","origin","payloadOrigin","point","data","formattedValue","time","fields","fieldIndex","columnIndex","rowIndex","dataIndex","targetFieldIndex","findIndex","f","type","field","name","config","displayName","values","display","text","dataId","refId","panelId","meta","custom","newEvent","x","y","elementType","dataFrame","legacyHoverSub","LegacyGraphHoverEvent","pos","series","unsubscribe","className","cx","style","dateTime","format","map","isExpanded","has","maxLength","logTruncateLength","isLong","onClick","prev","newSet","delete","add","toggleLogExpansion","cursor","setPanelOptions","builder","addNumberInput","path","description","defaultValue","settings","min","addStandardOptions"],"sourceRoot":""}